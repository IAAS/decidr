<!--
 * The DecidR Development Team licenses this file to you under
 * the Apache License, Version 2.0 (the "License"); you may
 * not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
  -->
  
<!-- Sample Synapse configuration that exposes a single web service using the
     underlying Axis2 engine -->
<definitions xmlns="http://ws.apache.org/ns/synapse">
    <!-- Named sequences are reusable from within multiple proxies -->
    <sequence name="timeFault">
        <!-- Logs and discards the message. -->
        <log level="full"/>    
        <drop/>
    </sequence>
    
    <!-- A simple time service that runs on the included Axis2 server is exposed 
         and will be reachable directly through the ESB via http/s -->
    <proxy name="TimeProxy" transports="http,https" faultSequence="timeFault">
        <target>
            <!-- The endpoint defines where messages for this proxy will be 
                 delivered to-->
            <endpoint>
                <address uri="http://localhost:9000/soap/TimeService"/>
            </endpoint>
            <outSequence>
                <send/>
            </outSequence>
        </target>
        <publishWSDL uri="http://localhost:9000/soap/TimeService?wsdl"/>
    </proxy>
    
    <!-- For securtiy reasons we reject all unexpected messages -->
    <sequence name="main">
        <drop/>
    </sequence>
</definitions>