<!-- Sample Synapse configuration that exposes a single web service using the
     underlying Axis2 engine -->
<definitions xmlns="http://ws.apache.org/ns/synapse">
    <!-- Sequences can be named and later reused in multiple places -->
    <sequence name="timeFault">
        <!-- Logs and discards the message. -->
        <log level="full"/>    
        <drop/>
    </sequence>
    
    <!-- A simple time service that runs on the included Axis2 server is exposed 
         and will be reachable directly through the ESB via http/s -->
    <proxy name="TimeProxy" transports="http,https" faultSequence="timeFault">
        <target>
            <!-- The endpoint defines where messages for this proxy will be 
                 delivered to-->
            <endpoint>
                <address uri="http://localhost:9000/soap/TimeService"/>
            </endpoint>
            <outSequence>
                <send/>
            </outSequence>
        </target>
        <!-- Synapse uses the given WSDL file to build its representation of
             the above endpoint -->
        <publishWSDL uri="http://localhost:9000/soap/TimeService?wsdl"/>
    </proxy>
    
    <!-- For securtiy reasons we reject all unexpected messages -->
    <sequence name="main">
        <drop/>
    </sequence>
</definitions>